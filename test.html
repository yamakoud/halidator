<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Halidator Test</title>
    <script src="dist/halidator.js"></script>
</head>
<body>
    <h1>Halidator Test</h1>
    <div id="testArea"></div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const testArea = document.getElementById('testArea');
            const htmlToValidate = `
                <div>
                    <p><div>Invalid nesting</div></p>
                    <span><h1>Invalid block element in inline</h1></span>
                </div>
            `;

            try {
                // Halidatorがグローバル変数として利用可能
                const issues = await Halidator.validate(htmlToValidate);
                
                testArea.innerHTML = `<h2>Validation Results:</h2>
                    <pre>${JSON.stringify(issues, null, 2)}</pre>`;
            } catch (error) {
                testArea.innerHTML = `<h2>Error:</h2><p>${error.message}</p>`;
            }
        });
    </script>
</body>
</html>
